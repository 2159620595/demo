{"version":3,"file":"js/228.ab063dc2.js","mappings":"oKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,mBAAmB,CAACE,MAAM,CAAC,KAAOJ,EAAIK,YAAY,gBAAgBL,EAAIM,aAAa,gBAAgB,aAAa,mBAAmB,MAAMC,GAAG,CAAC,IAAMP,EAAIQ,MAAM,KAAOR,EAAIS,QAAQC,MAAM,CAACC,MAAOX,EAAIY,gBAAiBC,SAAS,SAAUC,GAAMd,EAAIY,gBAAgBE,CAAG,EAAEC,WAAW,sBAAsB,EACtX,EACIC,EAAkB,G,oBCetB,GACAC,KAAA,UACAC,IAAAA,GACA,OACAN,gBAAA,IACAP,YAAA,GASAC,aAAA,CACA,CACAa,GAAA,IACAF,KAAA,KACAG,IAAA,aACAC,QAAA,uBAIA,EACAC,OAAAA,GACA,KAAAC,iBACA,EACAC,QAAA,CAEAhB,KAAAA,GACA,KAAAiB,QAAAC,KAAA,gBACA,KAAAC,OAAAC,QAAA,OACA,EAEA,YAAAnB,CAAAoB,GACA,KAAAJ,QAAAC,KAAA,CACAI,KAAA,eACAC,MAAA,CACAC,UAAAH,EAAAV,KA2BA,EAEA,qBAAAI,GACA,MAAAU,QAAAC,EAAAA,EAAAA,MAEAC,EAAAF,EAAAf,KAAAiB,KAAAC,KAAAC,GAAAA,IAEAnB,EAAAiB,EAAAC,KAAAC,IACA,CACAlB,GAAAkB,EAAAC,WACArB,KAAAoB,EAAApB,KACAG,IAAAiB,EAAAE,MACAlB,QAAA,GAAAgB,EAAAG,OAAAC,YAAAJ,EAAAG,OAAAE,QAAAL,EAAAG,OAAAA,UAAAH,EAAAM,SACAC,UAAA,OAGA,KAAAvC,YAAAa,EACA,KAAAN,gBAAAM,EAAA,GAAAC,SAEA0B,EAAAA,EAAAA,IAAA,KAAAxC,YAAA,GAAAc,GAyBA,IC9H+P,I,UCO3P2B,GAAY,OACd,EACA/C,EACAiB,GACA,EACA,KACA,KACA,MAIF,EAAe8B,EAAiB,O,8LCVzB,MAAMZ,EAAiBA,IACrBa,EAAAA,EAAQC,IAAI,iBAMRH,EAAWb,GACfe,EAAAA,EAAQE,KAAK,sBAAuB,CACzCjB,cAKSkB,EAAcA,IAClBH,EAAAA,EAAQC,IAAI,gBAwCRG,EAAejC,GACnB6B,EAAAA,EAAQE,KAAK,eAAgB,CAAEG,KAAMlC,IAIjCmC,EAAiBrB,GACrBe,EAAAA,EAAQE,KAAK,kBAAmB,CACrCjB,cAYSsB,EAAiBtB,GACrBe,EAAAA,EAAQC,IAAI,kBAAmB,CACpCO,OAAQ,CACNvB,c","sources":["webpack://day-shopping/./src/views/user/address.vue","webpack://day-shopping/src/views/user/address.vue","webpack://day-shopping/./src/views/user/address.vue?ffdc","webpack://day-shopping/./src/views/user/address.vue?8f23","webpack://day-shopping/./src/api/address.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-address-list',{attrs:{\"list\":_vm.addressList,\"disabled-list\":_vm.disabledList,\"disabled-text\":\"以下地址超出配送范围\",\"default-tag-text\":\"默认\"},on:{\"add\":_vm.onAdd,\"edit\":_vm.onEdit},model:{value:(_vm.chosenAddressId),callback:function ($$v) {_vm.chosenAddressId=$$v},expression:\"chosenAddressId\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n      <van-address-list\r\n        v-model=\"chosenAddressId\"\r\n        :list=\"addressList\"\r\n        :disabled-list=\"disabledList\"\r\n        disabled-text=\"以下地址超出配送范围\"\r\n        default-tag-text=\"默认\"\r\n        @add=\"onAdd\"\r\n        @edit=\"onEdit\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// receipt,addressEdit\r\nimport { receipt, getAddressList } from '@/api/address'\r\nexport default {\r\n  name: 'addRess',\r\n  data () {\r\n    return {\r\n      chosenAddressId: '1',\r\n      addressList: [\r\n        // {\r\n        //   id: '1',\r\n        //   name: '张三',\r\n        //   tel: '13000000000',\r\n        //   address: '浙江省杭州市西湖区文三路 138 号东方通信大厦 7 楼 501 室',\r\n        //   isDefault: true\r\n        // }\r\n      ],\r\n      disabledList: [\r\n        {\r\n          id: '3',\r\n          name: '王五',\r\n          tel: '1320000000',\r\n          address: '浙江省杭州市滨江区江南大道 15 号'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created () {\r\n    this.getAddressLists()\r\n  },\r\n  methods: {\r\n    // 点击新增地址信息\r\n    onAdd () {\r\n      this.$router.push('/AddressEdit')\r\n      this.$toast.success('新增地址')\r\n    },\r\n    // 点击编辑地址信息\r\n    async onEdit (content) {\r\n      this.$router.push({\r\n        path: '/AddressEdit',\r\n        query: {\r\n          addressId: content.id\r\n        }\r\n      })\r\n      // const lists = [item]\r\n      // const data = lists.map(item => {\r\n      //   console.log(item)\r\n      //   return {\r\n      //     addressId: item.id,\r\n      //     name: item.name,\r\n      //     tel: item.tel,\r\n      //     address: item.address\r\n      //     // isDefault: item.isDefault\r\n      //   }\r\n      // })\r\n      // // console.log(data)\r\n      // let addressId\r\n      // data.forEach(item => {\r\n      //   console.log(item)\r\n      //   addressId = item.addressId\r\n      // })\r\n      // console.log(addressId)\r\n      // const res = await addressEdit(16123, {\r\n      //   name: data.name,\r\n      //   phone: data.tel,\r\n      //   region: data.address\r\n      // })\r\n      // console.log(res)\r\n    },\r\n    // 获取收货地址信息 并且渲染地址\r\n    async getAddressLists () {\r\n      const res = await getAddressList()\r\n      // const list = res.data.list\r\n      const list = res.data.list.map(item => item)\r\n      // console.log(list)\r\n      const data = list.map(item => {\r\n        return {\r\n          id: item.address_id,\r\n          name: item.name,\r\n          tel: item.phone,\r\n          address: `${item.region.province} ${item.region.city} ${item.region.region} ${item.detail}`,\r\n          isDefault: ''\r\n        }\r\n      })\r\n      this.addressList = data\r\n      this.chosenAddressId = data[0].id\r\n      // 设置默认地址信息\r\n      await receipt(this.addressList[0].id)\r\n      // return {\r\n      //   addressid: item.address_id,\r\n      //   city_id: item.city_id,\r\n      //   detail: item.detail,\r\n      //   name: item.name,\r\n      //   tel: item.phone,\r\n      //   // address: `${item.region.province} ${item.region.city} ${item.region.region}`,\r\n      //   region: {\r\n      //     province: item.region.province,\r\n      //     city: item.region.city,\r\n      //     region: item.region.region\r\n      //   },\r\n      //   isDefault: false\r\n      // }\r\n      // this.addressList = data\r\n\r\n      // const objs = {\r\n      //   id: res.data.list[0].address_id,\r\n      //   name: res.data.list[0].name,\r\n      //   tel: res.data.list[0].phone,\r\n      //   address: `${res.data.list[0].region.city} + ${res.data.list[0].region.province} +${res.data.list[0].region.province}`,\r\n      //   isDefault: false\r\n      // }\r\n      // console.log(objs)\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./address.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./address.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./address.vue?vue&type=template&id=017a1987\"\nimport script from \"./address.vue?vue&type=script&lang=js\"\nexport * from \"./address.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// import axios from 'axios'\r\nimport request from '@/utils/request'\r\n\r\n// 获取收获地址\r\n// export const getAddressList = () => {\r\n//   return axios.get('http://localhost:3000/data')\r\n// }\r\n\r\nexport const getAddressList = () => {\r\n  return request.get('/address/list')\r\n}\r\n\r\n// /address/setDefault\r\n\r\n// 设置默认地址\r\nexport const receipt = (addressId) => {\r\n  return request.post('/address/setDefault', {\r\n    addressId\r\n  })\r\n}\r\n\r\n// // 获取省市区地址\r\nexport const getAreaList = () => {\r\n  return request.get('/region/tree')\r\n}\r\n\r\n// 新增地址\r\n// export const postaddress = (data) => {\r\n//   try {\r\n//     return request.post('/address/add',\r\n//       {\r\n//         form: {\r\n//           name: data.name,\r\n//           phone: data.phone,\r\n//           region: data.region,\r\n//           detail: data.detail\r\n//         }\r\n//       }\r\n//     )\r\n//   } catch (error) {\r\n//     console.log(data)\r\n//   }\r\n// // }\r\n// export const postaddress = async (data) => {\r\n//   const { name, phone, region, detail } = data // 解构出\r\n//   try {\r\n//     const response = await request.post('/address/add', {\r\n//       form: {\r\n//         name,\r\n//         phone,\r\n//         region,\r\n//         detail\r\n//       }\r\n//     })\r\n//     console.log(region)\r\n//     return response // 返回API的响应\r\n//   } catch (error) {\r\n//     console.error('新增地址失败:', error.message, data) // 打印错误信息\r\n//     throw error // 抛出错误以便在调用处处理\r\n//   }\r\n// }\r\n\r\n// 新增收货地址\r\nexport const postaddress = (data) => {\r\n  return request.post('/address/add', { form: data })\r\n}\r\n\r\n// 删除地址\r\nexport const deleteaddress = (addressId) => {\r\n  return request.post('/address/remove', {\r\n    addressId\r\n  })\r\n}\r\n\r\n// 编辑地址\r\nexport const editaddress = (data) => {\r\n  return request.post('/address/edit', {\r\n    form: data\r\n  })\r\n}\r\n\r\n// 收货地址详情\r\nexport const addressDetail = (addressId) => {\r\n  return request.get('/address/detail', {\r\n    params: {\r\n      addressId\r\n    }\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","attrs","addressList","disabledList","on","onAdd","onEdit","model","value","chosenAddressId","callback","$$v","expression","staticRenderFns","name","data","id","tel","address","created","getAddressLists","methods","$router","push","$toast","success","content","path","query","addressId","res","getAddressList","list","map","item","address_id","phone","region","province","city","detail","isDefault","receipt","component","request","get","post","getAreaList","postaddress","form","deleteaddress","addressDetail","params"],"sourceRoot":""}